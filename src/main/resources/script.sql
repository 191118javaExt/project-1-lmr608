DROP TABLE IF EXISTS REIMBURSEMENTS CASCADE;

CREATE TABLE REIMBURSEMENTS (
	REIM_ID SERIAL PRIMARY KEY,
	AMOUNT NUMERIC NOT NULL,
	SUBMITTED TIMESTAMP NOT NULL,
	RESOLVED TIMESTAMP,
	DESCRIPTION VARCHAR (250),
	RECEIPT BYTEA,
	AUTHOR SERIAL REFERENCES USERS,
	RESOLVER SERIAL REFERENCES USERS,
	STATUS_ID NUMERIC REFERENCES REIMBURSEMENT_STATUS,
	TYPE_ID NUMERIC REFERENCES REIMBURSEMENT_TYPE
);

DROP TABLE IF EXISTS USERS CASCADE;

CREATE TABLE USERS (
	USER_ID SERIAL PRIMARY KEY,
	FIRST_NAME VARCHAR (100),
	LAST_NAME VARCHAR (100),
	USERNAME VARCHAR (50) UNIQUE,
	PASSWORD VARCHAR (50) UNIQUE,
	EMAIL VARCHAR (150) UNIQUE,
	ROLE_ID NUMERIC REFERENCES USER_ROLE
);

DROP TABLE IF EXISTS REIMBURSEMENT_STATUS CASCADE;

CREATE TABLE REIMBURSEMENT_STATUS (
	STATUS_ID NUMERIC PRIMARY KEY,
	STATUS VARCHAR (10)
);

DROP TABLE IF EXISTS REIMBURSEMENT_TYPE CASCADE;

CREATE TABLE REIMBURSEMENT_TYPE (
	TYPE_ID NUMERIC PRIMARY KEY,
	TYPE VARCHAR (10)
);

DROP TABLE IF EXISTS USER_ROLE CASCADE;

CREATE TABLE USER_ROLE (
	USER_ROLE_ID NUMERIC PRIMARY KEY,
	USER_ROLE VARCHAR (20)
);

INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('250', 'now', 'now', 'Training Relocation', '', '1', '3', '1', '2');
INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('10', 'now', 'now', 'Enthuware', '', '1', '3', '1', '4');
INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('500', 'now', 'now', 'Client Relocation', '', '1', '3', '0', '2');
INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('250', 'now', 'now', 'Training Relocation', '', '2', '4', '2', '2');
INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('10', 'now', 'now', 'Enthuware', '', '2', '4', '1', '4');
INSERT INTO PROJECT1.REIMBURSEMENTS (AMOUNT, SUBMITTED, RESOLVED, DESCRIPTION, RECEIPT, AUTHOR, RESOLVER, STATUS_ID, TYPE_ID)
VALUES ('500', 'now', 'now', 'Client Relocation', '', '2', '4', '0', '2');

INSERT INTO PROJECT1.USERS (FIRST_NAME, LAST_NAME, USERNAME, PASSWORD, EMAIL, ROLE_ID)
VALUES ('First', 'Man', 'man1', 'revature1', 'man1@email.com', '0');
INSERT INTO PROJECT1.USERS (FIRST_NAME, LAST_NAME, USERNAME, PASSWORD, EMAIL, ROLE_ID)
VALUES ('Second', 'Man', 'man2', 'revature2', 'man2@email.com', '0');
INSERT INTO PROJECT1.USERS (FIRST_NAME, LAST_NAME, USERNAME, PASSWORD, EMAIL, ROLE_ID)
VALUES ('Florida', 'Emp', 'flemp', 'flpassword', 'flemp@email.com', '1');
INSERT INTO PROJECT1.USERS (FIRST_NAME, LAST_NAME, USERNAME, PASSWORD, EMAIL, ROLE_ID)
VALUES ('Virginia', 'Emp', 'vaemp', 'vapassword', 'vaemp@email.com', '1');

INSERT INTO PROJECT1.REIMBURSEMENT_STATUS (STATUS_ID, STATUS)
VALUES ('0', 'Pending');
INSERT INTO PROJECT1.REIMBURSEMENT_STATUS (STATUS_ID, STATUS)
VALUES ('1', 'Approved');
INSERT INTO PROJECT1.REIMBURSEMENT_STATUS (STATUS_ID, STATUS)
VALUES ('2', 'Denied');

INSERT INTO PROJECT1.REIMBURSEMENT_TYPE (TYPE_ID, TYPE)
VALUES ('1', 'Lodging');
INSERT INTO PROJECT1.REIMBURSEMENT_TYPE (TYPE_ID, TYPE)
VALUES ('2', 'Travel');
INSERT INTO PROJECT1.REIMBURSEMENT_TYPE (TYPE_ID, TYPE)
VALUES ('3', 'Food');
INSERT INTO PROJECT1.REIMBURSEMENT_TYPE (TYPE_ID, TYPE)
VALUES ('4', 'Other');

INSERT INTO PROJECT1.USER_ROLE (USER_ROLE_ID, USER_ROLE)
VALUES ('0', 'Finance Manager');
INSERT INTO PROJECT1.USER_ROLE (USER_ROLE_ID, USER_ROLE)
VALUES ('1', 'Employee');

SELECT * FROM REIMBURSEMENTS;
SELECT * FROM USERS;
SELECT * FROM REIMBURSEMENT_STATUS;
SELECT * FROM REIMBURSEMENT_TYPE;
SELECT * FROM USER_ROLE;

ALTER SEQUENCE reimbursements_reim_id_seq RESTART WITH 1;
ALTER SEQUENCE users_user_id_seq RESTART WITH 1;